import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.firefox.FirefoxDriver;
import java.util.concurrent.TimeUnit;

public class Loops {

	static WebDriver wd = new FirefoxDriver();
	
	public static void main(String[] args) throws InterruptedException {
		//practicing loops
		//WHILE loop
		
		wd.get("http://www.amazon.com/");
		
		wd.manage().timeouts().implicitlyWait(40, TimeUnit.SECONDS);
		
		//2.Click drop doun menu
		
				wd.findElement(By.xpath("//div[@class='nav-search-facade']")).click();
				
				//3. Click a cateory 
				wd.findElement(By.xpath("//option[contains(text(), 'Electronics')]")).click();
				
				//4. Type a search text
				wd.findElement(By.id("twotabsearchtextbox")).sendKeys(new String[] {"volumizer"});
				
				//Click Search
				wd.findElement(By.id("nav-search-submit-text")).click();
				
		Thread.sleep(4000);		

				//Sort items from High to Low
				wd.findElement(By.id("sort")).click();
				wd.findElement(By.xpath("//option[contains(text(), 'Price: High to Low')]")).click();
			//System.out.println("Hi");
			
Thread.sleep(3000);

				//Select 1st item on the page and capture the price
				wd.findElement(By.xpath("//a/img[@class='s-access-image cfMarker']")).click();
				String price = wd.findElement(By.id("priceblock_ourprice")).getText();
				
			//Capture the title
				String title = wd.findElement(By.id("productTitle")).getText();	
				System.out.println(title + " The price is: " + price);
				wd.navigate().back();
			
				//Click NEXT page arrow
				 wd.findElement(By.id("pagnNextString")).click();
				
				
	//LOOP shouls start here
				
			int i = 0;	
	    while (i > 0-1){
				//click 1st item on i+ page
				//wd.findElement(By.xpath("//img[@class='s-access-image cfMarker']/[4]")).click();
				
				//capture the price
				String price2 = wd.findElement(By.xpath("//span[@class='a-size-base a-color-price a-text-bold']")).getText();
				
				//capture the title
				String title2 = wd.findElement(By.xpath("//h2[@class='a-size-medium a-color-null s-inline s-access-title a-text-normal']")).getText();	
				
				//print out title + price
				System.out.println("1st item on the page: " + title2 + " " + price2);
		
			Thread.sleep(2000);	
		
				//turn page
			     boolean next = wd.findElements(By.id("pagnNextString")).size() > 0;
			      
					  if (next ==true){
						  wd.findElement(By.id("pagnNextString")).isEnabled();
							wd.findElement(By.id("pagnNextString")).click();
							Thread.sleep(3000);
						}
					  else {
							wd.close();
						}
					  // Get text from last page (element - page number)
					  // assign a varible (pageN) to the value (above)
					  // Use if condition, if pageN contains (20 - last page N) -> stop the code -> use BREAK command, link: (http://toolsqa.com/java/basic-java-programming/loops/)
					  
					  
					  
					  
			//Cature and print last page #		  
			//String pageN = wd.findElement(By.className("pangCur")).getText();
					//	System.out.println("Last page " + pageN);
						//wd.findElement(By.className("s-access-image cfMarker")).click();
				}
			  
}
	}

